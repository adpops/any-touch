(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5faec9de"],{"2c4c":function(t,n,e){"use strict";e.r(n);var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("article",[t._m(0),e("svg",{staticStyle:{width:"100%"},attrs:{xmlns:"http://www.w3.org/2000/svg",width:"1000",height:"1000"}},[e("g",{attrs:{transform:"translate(100, 100)"}},[t._l(t.linkPaths,(function(n,r){return[n?e("path",{key:r,staticClass:"line",attrs:{d:n}}):t._e()]}))],2),e("g",{attrs:{transform:"translate(100, 100)"}},t._l(t.nodes,(function(n,r){var i;return e("foreignObject",{directives:[{name:"show",rawName:"v-show",value:!n.hidden,expression:"!node.hidden"}],key:"foreignObject"+r,class:(i={},i["at-"+t.action]=t.activeNode===n,i),attrs:{width:t.itemWidth,height:t.itemHeight,x:n.y-t.itemWidth/2,y:n.x-t.itemHeight/2},on:{panstart:function(n){return t.onPanstart(r,n)},panmove:function(n){return t.onPanmove(r,n)},panend:t.onPanend,pancancel:t.onPanend,tap:function(n){return t.onTap(r)}}},[e("body",{attrs:{xmlns:"http://www.w3.org/1999/xhtml"}},[e("div",{staticClass:"text"},[e("p",[t._v("节点层级: "+t._s(n.depth))]),e("p",[t._v("节点顺序: "+t._s(r))])])])])})),1)])])},i=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("header",[t._v(" 实现基于 "),e("a",{attrs:{target:"_new",href:"https://github.com/d3/d3"}},[t._v("d3")]),t._v(" / "),e("a",{attrs:{target:"_new",href:"https://github.com/vuejs/vue"}},[t._v("vue")]),t._v(" / "),e("a",{attrs:{target:"_new",href:"https://github.com/any86/any-touch"}},[t._v("any-touch")])])}];e("4160"),e("d81d"),e("fb6a"),e("a434"),e("a9e3"),e("159b");function a(t){if(Array.isArray(t))return t}e("a4d3"),e("e01a"),e("d28b"),e("a630"),e("d3b7"),e("3ca3"),e("ddb0");function o(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}e("b0c0"),e("25f0");function h(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function s(t,n){if(t){if("string"===typeof t)return h(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?h(t,n):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||o(t)||s(t)||u()}function l(t,n){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var e=[],r=!0,i=!1,a=void 0;try{for(var o,h=t[Symbol.iterator]();!(r=(o=h.next()).done);r=!0)if(e.push(o.value),n&&e.length===n)break}catch(s){i=!0,a=s}finally{try{r||null==h["return"]||h["return"]()}finally{if(i)throw a}}return e}}function f(t,n){return a(t)||l(t,n)||s(t,n)||u()}function d(t){var n=0,e=t.children,r=e&&e.length;if(r)while(--r>=0)n+=e[r].value;else n=1;t.value=n}var p=function(){return this.eachAfter(d)},v=function(t){var n,e,r,i,a=this,o=[a];do{n=o.reverse(),o=[];while(a=n.pop())if(t(a),e=a.children,e)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length);return this},y=function(t){var n,e,r=this,i=[r];while(r=i.pop())if(t(r),n=r.children,n)for(e=n.length-1;e>=0;--e)i.push(n[e]);return this},_=function(t){var n,e,r,i=this,a=[i],o=[];while(i=a.pop())if(o.push(i),n=i.children,n)for(e=0,r=n.length;e<r;++e)a.push(n[e]);while(i=o.pop())t(i);return this},m=function(t){return this.eachAfter((function(n){var e=+t(n.data)||0,r=n.children,i=r&&r.length;while(--i>=0)e+=r[i].value;n.value=e}))},g=function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},w=function(t){var n=this,e=x(n,t),r=[n];while(n!==e)n=n.parent,r.push(n);var i=r.length;while(t!==e)r.splice(i,0,t),t=t.parent;return r};function x(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();while(t===n)i=t,t=e.pop(),n=r.pop();return i}var b=function(){var t=this,n=[t];while(t=t.parent)n.push(t);return n},A=function(){var t=[];return this.each((function(n){t.push(n)})),t},z=function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},M=function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n};function N(t,n){var e,r,i,a,o,h=new j(t),s=+t.value&&(h.value=t.value),u=[h];null==n&&(n=S);while(e=u.pop())if(s&&(e.value=+e.data.value),(i=n(e.data))&&(o=i.length))for(e.children=new Array(o),a=o-1;a>=0;--a)u.push(r=e.children[a]=new j(i[a])),r.parent=e,r.depth=e.depth+1;return h.eachBefore(P)}function k(){return N(this).eachBefore(T)}function S(t){return t.children}function T(t){t.data=t.data.data}function P(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function j(t){this.data=t,this.depth=this.height=0,this.parent=null}function B(t,n){return t.parent===n.parent?1:2}function C(t){var n=t.children;return n?n[0]:t.t}function L(t){var n=t.children;return n?n[n.length-1]:t.t}function O(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function E(t){var n,e=0,r=0,i=t.children,a=i.length;while(--a>=0)n=i[a],n.z+=e,n.m+=e,e+=n.s+(r+=n.c)}function $(t,n,e){return t.a.parent===n.parent?t.a:e}function q(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function I(t){var n,e,r,i,a,o=new q(t,0),h=[o];while(n=h.pop())if(r=n._.children)for(n.children=new Array(a=r.length),i=a-1;i>=0;--i)h.push(e=n.children[i]=new q(r[i],i)),e.parent=n;return(o.parent=new q(null,0)).children=[o],o}j.prototype=N.prototype={constructor:j,count:p,each:v,eachAfter:_,eachBefore:y,sum:m,sort:g,path:w,ancestors:b,descendants:A,leaves:z,links:M,copy:k},q.prototype=Object.create(j.prototype);var D=function(){var t=B,n=1,e=1,r=null;function i(i){var h=I(i);if(h.eachAfter(a),h.parent.m=-h.z,h.eachBefore(o),r)i.eachBefore(s);else{var u=i,c=i,l=i;i.eachBefore((function(t){t.x<u.x&&(u=t),t.x>c.x&&(c=t),t.depth>l.depth&&(l=t)}));var f=u===c?1:t(u,c)/2,d=f-u.x,p=n/(c.x+f+d),v=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*v}))}return i}function a(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){E(n);var a=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-a):n.z=a}else i&&(n.z=i.z+t(n._,i._));n.parent.A=h(n,i,n.parent.A||r[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function h(n,e,r){if(e){var i,a=n,o=n,h=e,s=a.parent.children[0],u=a.m,c=o.m,l=h.m,f=s.m;while(h=L(h),a=C(a),h&&a)s=C(s),o=L(o),o.a=n,i=h.z+l-a.z-u+t(h._,a._),i>0&&(O($(h,n,r),n,i),u+=i,c+=i),l+=h.m,u+=a.m,f+=s.m,c+=o.m;h&&!L(o)&&(o.t=h,o.m+=l-c),a&&!C(s)&&(s.t=a,s.m+=u-f,r=n)}return r}function s(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},H=Math.PI,W=2*H,J=1e-6,Z=W-J;function F(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Q(){return new F}F.prototype=Q.prototype={constructor:F,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,a){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+a)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var a=this._x1,o=this._y1,h=e-t,s=r-n,u=a-t,c=o-n,l=u*u+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>J)if(Math.abs(c*h-s*u)>J&&i){var f=e-a,d=r-o,p=h*h+s*s,v=f*f+d*d,y=Math.sqrt(p),_=Math.sqrt(l),m=i*Math.tan((H-Math.acos((p+l-v)/(2*y*_)))/2),g=m/_,w=m/y;Math.abs(g-1)>J&&(this._+="L"+(t+g*u)+","+(n+g*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>u*d)+","+(this._x1=t+w*h)+","+(this._y1=n+w*s)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,a){t=+t,n=+n,e=+e,a=!!a;var o=e*Math.cos(r),h=e*Math.sin(r),s=t+o,u=n+h,c=1^a,l=a?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+s+","+u:(Math.abs(this._x1-s)>J||Math.abs(this._y1-u)>J)&&(this._+="L"+s+","+u),e&&(l<0&&(l=l%W+W),l>Z?this._+="A"+e+","+e+",0,1,"+c+","+(t-o)+","+(n-h)+"A"+e+","+e+",0,1,"+c+","+(this._x1=s)+","+(this._y1=u):l>J&&(this._+="A"+e+","+e+",0,"+ +(l>=H)+","+c+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var R=Q,U=Array.prototype.slice,X=function(t){return function(){return t}};function Y(t){return t[0]}function G(t){return t[1]}function K(t){return t.source}function V(t){return t.target}function tt(t){var n=K,e=V,r=Y,i=G,a=null;function o(){var o,h=U.call(arguments),s=n.apply(this,h),u=e.apply(this,h);if(a||(a=o=R()),t(a,+r.apply(this,(h[0]=s,h)),+i.apply(this,h),+r.apply(this,(h[0]=u,h)),+i.apply(this,h)),o)return a=null,o+""||null}return o.source=function(t){return arguments.length?(n=t,o):n},o.target=function(t){return arguments.length?(e=t,o):e},o.x=function(t){return arguments.length?(r="function"===typeof t?t:X(+t),o):r},o.y=function(t){return arguments.length?(i="function"===typeof t?t:X(+t),o):i},o.context=function(t){return arguments.length?(a=null==t?null:t,o):a},o}function nt(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function et(){return tt(nt)}var rt=e("e02c"),it=e.n(rt),at={name:"顶级",value:99,children:[{name:"第2级",value:21,children:[{name:"第3级A",value:14,children:[{name:"第4级A",value:3938},{name:"第4级B",value:1112}]}]}]};function ot(t,n,e,r){return(t/=r/2)<1?e/2*t*t+n:-e/2*(--t*(t-2)-1)+n}Date.now;function ht(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},i=window.performance.now();function a(){var o=window.performance.now()-i,h=ot(o,t,n-t,e);o<=e?(r(h),requestAnimationFrame(a)):r(n,!0)}a()}var st={name:"Topology",props:{itemWidth:{type:Number,default:160},itemHeight:{type:Number,default:100}},data:function(){return{nodes:[],linkPaths:[],tree:{},activeNode:null,action:""}},mounted:function(){this.renderTree();var t=new it.a(this.$el);this.$on("hook:destroy",t.destroy)},methods:{genTreeData:function(t){var n=1e3,e=N(t);return e.descendants().forEach((function(t){t.hidden=!1})),D().separation((function(t,n){return(t.parent==n.parent?2:1)/t.depth})).nodeSize([110,n/(e.height+1)])(e)},updateNodes:function(){this.nodes=this.tree.descendants()},updateLinks:function(){this.linkPaths=this.tree.links().map((function(t){if(!t.target.hidden)return et().x((function(t){return t.y})).y((function(t){return t.x}))(t)}))},renderTree:function(){this.tree=this.genTreeData(at),this.updateLinks(),this.updateNodes()},onPanstart:function(t,n){var e=this.nodes.splice(t,1),r=f(e,1),i=r[0];this.nodes.push(i),this.activeNode=i},onPanmove:function(t,n){this.action=n.type;var e=n.deltaX,r=n.deltaY;this.nodes.length;this.activeNode.x+=r,this.activeNode.y+=e,this.updateLinks()},onPanend:function(){this.activeNode=null},onTap:function(t){var n=this;this.activeNode=this.nodes[t],void 0===this.activeNode.collapse?this.$set(this.activeNode,"collapse",!0):this.activeNode.collapse=!this.activeNode.collapse;var e=this.activeNode,r=e.x,i=e.y,a=e.collapse,o=this.activeNode.descendants(),h=c(o),s=(h[0],h.slice(1));s.forEach((function(t){if(a){var e=t.x,o=t.y;t._x=e,t._y=o,ht(1,0,200,(function(a,h){t.x=r-(r-e)*a,t.y=i-(i-o)*a,h&&(t.hidden=!0),n.updateLinks()}))}else t.hidden=!1,ht(0,1,200,(function(e){t.x=r+(t._x-r)*e,t.y=i+(t._y-i)*e,n.updateLinks()}))}))}}},ut=st,ct=(e("f424"),e("2877")),lt=Object(ct["a"])(ut,r,i,!1,null,null,null);n["default"]=lt.exports},"3e76":function(t,n,e){},f424:function(t,n,e){"use strict";var r=e("3e76"),i=e.n(r);i.a},fb6a:function(t,n,e){"use strict";var r=e("23e7"),i=e("861d"),a=e("e8b5"),o=e("23cb"),h=e("50c4"),s=e("fc6a"),u=e("8418"),c=e("b622"),l=e("1dde"),f=e("ae40"),d=l("slice"),p=f("slice",{ACCESSORS:!0,0:0,1:2}),v=c("species"),y=[].slice,_=Math.max;r({target:"Array",proto:!0,forced:!d||!p},{slice:function(t,n){var e,r,c,l=s(this),f=h(l.length),d=o(t,f),p=o(void 0===n?f:n,f);if(a(l)&&(e=l.constructor,"function"!=typeof e||e!==Array&&!a(e.prototype)?i(e)&&(e=e[v],null===e&&(e=void 0)):e=void 0,e===Array||void 0===e))return y.call(l,d,p);for(r=new(void 0===e?Array:e)(_(p-d,0)),c=0;d<p;d++,c++)d in l&&u(r,c,l[d]);return r.length=c,r}})}}]);
//# sourceMappingURL=chunk-5faec9de.1baaa07e.js.map