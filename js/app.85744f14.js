(function(t){function e(e){for(var r,a,c=e[0],s=e[1],u=e[2],p=0,l=[];p<c.length;p++)a=c[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&l.push(o[a][0]),o[a]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);f&&f(e);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(r=!1)}r&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-29eaa49c":"702b7fcb","chunk-2d0b93e3":"db91c012","chunk-2d20fb2a":"567c9c5b","chunk-2d22277b":"e75510cd","chunk-5faec9de":"1baaa07e"}[t]+".js"}function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-29eaa49c":1,"chunk-5faec9de":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var r="css/"+({}[t]||t)+"."+{"chunk-29eaa49c":"9dd219ca","chunk-2d0b93e3":"31d6cfe0","chunk-2d20fb2a":"31d6cfe0","chunk-2d22277b":"31d6cfe0","chunk-5faec9de":"995ac5f3"}[t]+".css",o=s.p+r,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var u=i[c],p=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(p===r||p===o))return e()}var l=document.getElementsByTagName("style");for(c=0;c<l.length;c++){u=l[c],p=u.getAttribute("data-href");if(p===r||p===o)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var r=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+r+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=r,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=o;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){a[t]=0})));var r=o[t];if(0!==r)if(r)e.push(r[2]);else{var i=new Promise((function(e,n){r=o[t]=[e,n]}));e.push(r[2]=i);var u,p=document.createElement("script");p.charset="utf-8",p.timeout=120,s.nc&&p.setAttribute("nonce",s.nc),p.src=c(t);var l=new Error;u=function(e){p.onerror=p.onload=null,clearTimeout(f);var n=o[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+a+")",l.name="ChunkLoadError",l.type=r,l.request=a,n[1](l)}o[t]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:p})}),12e4);p.onerror=p.onload=u,document.head.appendChild(p)}return Promise.all(e)},s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],p=u.push.bind(u);u.push=e,u=u.slice();for(var l=0;l<u.length;l++)e(u[l]);var f=p;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"21bb":function(t,e,n){"use strict";var r=n("2dad"),a=n.n(r);a.a},"2dad":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("router-view")},o=[],i={name:"App"},c=i,s=(n("5c0b"),n("2877")),u=Object(s["a"])(c,a,o,!1,null,null,null),p=u.exports,l=(n("d3b7"),n("8c4f")),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("header",[t._m(0),n("a",{staticClass:"link",attrs:{target:"_new",href:"https://github.com/any86/any-touch"}},[t._v("文档")]),n("router-link",{staticClass:"link",attrs:{to:"/topology"}},[t._v("SVG")]),n("a",{staticClass:"link",attrs:{href:"https://any86.github.io/photo-touch"}},[t._v("canvas")])],1),n("article",{ref:"panel",staticClass:"panel"},t._l(t.styles,(function(e,r){var a=e.top,o=e.left,i=e.zIndex,c=e.scale,s=e.angle;return n("div",{key:r,ref:"circle",refInFor:!0,class:["circle"],style:{top:a,left:o,zIndex:i,transform:"scale("+c+") rotate("+s+"deg)"},attrs:{index:r},on:{"at:start":t.onStart,"at:after":t.onAfter,tap:t.onTap,pan:t.onPan,panstart:function(e){return t.onPanstart(e,r)},panmove:function(e){return t.onPanmove(e,r)},panend:function(e){return t.onPanend(e,r)},swipe:function(e){return t.onSwipe(e,r)},press:t.onPress,pressup:t.onPressUp,pinch:function(e){e.match()&&t.onPinch(e,r)},rotate:function(e){e.match()&&t.onRotate(e,r)}}},[n("p",{staticStyle:{"font-size":"16px","border-bottom":"1px dashed #fff"}},[t._v("👋可拖拽 / 缩放等...")]),n("input",{staticClass:"p-1 mt-1",attrs:{placeholder:"表单元素不阻止默认事件"}}),n("p",[t._v("Top: "+t._s(a))]),n("p",[t._v("Left: "+t._s(o))]),n("p",[t._v("Scale: "+t._s(c))]),n("p",[t._v("Angle: "+t._s(s))])])})),0),n("article",{staticClass:"info p-2 mt-6"},[t.data.type?[n("h1",[t._v(t._s(t.data.type))]),n("table",[t._m(1),t._l(t.map,(function(e){var r=e.key,a=e.desc;return[t.data[r]?n("tr",{key:r},[n("td",[t._v(t._s(r))]),n("td",[t._v(t._s(t.data[r]))]),n("td",[t._v(t._s(a))])]):t._e()]}))],2)]:n("div",{staticClass:"info__tip"},[n("b",{staticClass:"mb-1"},[t._v("👋 支持:")]),n("span",[t._v("tap(点击)")]),n("span",[t._v("press(按)")]),n("span",[t._v("pan(拖拽)")]),n("span",[t._v("swipe(划)")]),n("span",[t._v("pinch(捏合)")]),n("span",[t._v("rotate(旋转)")])]),n("span",{staticClass:"btn-add",on:{click:t.add}},[t._v("添加一个(第"+t._s(t.styles.length+1)+"个)")])],2)])},d=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("a",{attrs:{target:"_new",href:"https://github.com/any86/any-touch"}},[n("img",{attrs:{width:"100",src:"https://img.shields.io/github/stars/any86/any-touch?style=social"}})])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",{attrs:{align:"left"}},[n("th",[t._v("键值")]),n("th",[t._v("值")]),n("th",[t._v("说明")])])}],h=(n("99af"),n("b0c0"),n("5530")),v=n("e02c"),m=n.n(v);function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#000",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#fff";console.log("%c".concat(t),"color:".concat(n,";background-color:").concat(e,";padding:2px 6px;border-radius:4px;"))}var g={name:"Home",data:function(){return{map:[{key:"name",desc:"识别器名"},{key:"x",desc:"触点中心X坐标"},{key:"y",desc:"触点中心Y坐标"},{key:"deltaX",desc:"X轴位移增量"},{key:"deltaY",desc:"Y轴位移增量"},{key:"displacementX",desc:"X轴位移(矢量)"},{key:"displacementY",desc:"Y轴位移(矢量)"},{key:"distanceX",desc:"X轴移动距离"},{key:"distanceY",desc:"Y轴移动距离"},{key:"distance",desc:"X轴Y轴的合距离"},{key:"speedX",desc:"X轴移动速度(矢量)"},{key:"speedY",desc:"Y轴移动速度(矢量)"},{key:"velocityX",desc:"X轴移动速率"},{key:"velocityY",desc:"Y轴移动速率"},{key:"deltaScale",desc:"每次触发pinch的缩放增量"},{key:"scale",desc:"一个识别周期pinch的累计缩放量"},{key:"deltaAngle",desc:"每次触发rotate的选装增量"},{key:"angle",desc:"一个识别周期rotate的累计选装量"}],action:"",data:{},styles:[{left:"50px",top:"160px",zIndex:1,scale:1,angle:0},{left:"50px",top:"360px",zIndex:1,scale:1,angle:0},{left:"50px",top:"560px",zIndex:1,scale:1,angle:0}]}},mounted:function(){new m.a(document.body)},methods:{onAfter:function(t){if(!/^at:/.test(t.name)){var e=t.name;this.data=Object(h["a"])(Object(h["a"])({},t),{},{type:e})}},add:function(){var t={left:"50px",top:"160px",zIndex:1,scale:1,angle:0};this.styles.push(t)},onPan:function(t){},onRotate:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.styles[e].angle+=t.deltaAngle},onPinch:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.styles[e].scale=Math.round(this.styles[e].scale*t.deltaScale*100)/100},onRotate1:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.styles[e].angle+=t.deltaAngle},onTap:function(t){t.currentTarget.setAttribute("at-phase",t.phase),t.currentTarget.setAttribute("at",t.type),y(t.type,"#f10")},onPress:function(t){t.currentTarget.setAttribute("at-phase",t.phase),t.currentTarget.setAttribute("at",t.type)},onPressUp:function(t){t.currentTarget.setAttribute("at",t.type)},onSwipe:function(t,e){var n=t.speedX,r=t.speedY;t.currentTarget.setAttribute("at",t.type),this.styles[e].top=Math.round(parseInt(this.styles[e].top)+120*r)+"px",this.styles[e].left=Math.round(parseInt(this.styles[e].left)+120*n)+"px",console.log("swipe")},onPanstart:function(t,e){for(var n in y(t.type,"#726"),this.styles)this.styles[n].zIndex=n==e?2:1},onPanmove:function(t,e){t.currentTarget.setAttribute("at",t.type),this.styles[e].top=parseInt(this.styles[e].top)+t.deltaY+"px",this.styles[e].left=parseInt(this.styles[e].left)+t.deltaX+"px"},onPanend:function(t,e){y(t.type,"#2f3")},onStart:function(t){t.currentTarget.setAttribute("at-phase",""),t.currentTarget.setAttribute("at","")}}},_=g,b=(n("21bb"),Object(s["a"])(_,f,d,!1,null,null,null)),x=b.exports;r["a"].use(l["a"]);var T=[{path:"/",name:"home",component:x},{path:"/target",name:"target",component:function(){return n.e("chunk-2d20fb2a").then(n.bind(null,"b578"))}},{path:"/p",name:"p",component:function(){return n.e("chunk-29eaa49c").then(n.bind(null,"2db2"))}},{path:"/parent",name:"parent",component:function(){return n.e("chunk-2d0b93e3").then(n.bind(null,"31b1"))}},{path:"/use",name:"use",component:function(){return n.e("chunk-2d22277b").then(n.bind(null,"cf79"))}},{path:"/topology",name:"Topology",component:function(){return n.e("chunk-5faec9de").then(n.bind(null,"2c4c"))}}],E=new l["a"]({routes:T}),w=E,k=(n("b7b3"),n("caf9"));r["a"].config.productionTip=!1,r["a"].use(k["a"],{loading:"./loading.gif"}),new r["a"]({router:w,render:function(t){return t(p)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var r=n("9c0c"),a=n.n(r);a.a},"9c0c":function(t,e,n){},e02c:function(t,e,n){var r,a;n("a4d3"),n("e01a"),n("d28b"),n("99af"),n("a623"),n("7db0"),n("c740"),n("4160"),n("a630"),n("caad"),n("d81d"),n("13d5"),n("a434"),n("b0c0"),n("6c57"),n("a9e3"),n("aff5"),n("131a"),n("d3b7"),n("ac1f"),n("25f0"),n("2532"),n("3ca3"),n("5319"),n("159b"),n("ddb0");var o=n("7037");(function(i,c){"object"===o(e)&&"undefined"!==typeof t?t.exports=c():(r=c,a="function"===typeof r?r.call(e,n,e,t):r,void 0===a||(t.exports=a))})(0,(function(){"use strict";
/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
    Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};function e(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var a in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t},n.apply(this,arguments)};function r(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var a=function(){function t(){this.__map={}}return t.prototype.beforeEach=function(t){this.__interceptor=t},t.prototype.on=function(t,e){var n,a,o=Array.isArray(t)?t:[t];try{for(var i=r(o),c=i.next();!c.done;c=i.next()){var s=c.value;this.__map[s]=this.__map[s]||[];var u=this.__map[s];u&&u.push(e)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}return this},t.prototype.emit=function(t,e,n){var r=this;void 0!==this.__interceptor?this.__interceptor(t,(function(){r.__emit(t,e),n&&n()})):(this.__emit(t,e),n&&n())},t.prototype.__emit=function(t,e){var n,a,o=this.__map[t];if(Array.isArray(o)&&(null===o||void 0===o?void 0:o.length))try{for(var i=r(o),c=i.next();!c.done;c=i.next()){var s=c.value;s(e,t)}}catch(u){n={error:u}}finally{try{c&&!c.done&&(a=i.return)&&a.call(i)}finally{if(n)throw n.error}}this.event=e},t.prototype.off=function(t,e){var n=this.__map[t];if(void 0!==n)if(void 0===e)delete this.__map[t];else{var r=n.findIndex((function(t){return t===e}));n.splice(r,1)}},t.prototype.destroy=function(){this.__map={}},t}(),o="touchstart",i="touchmove",c="touchend",s="touchcancel",u="mouseup",p="mousemove",l="mousedown",f="start",d="move",h="end";function v(t){return"[object Function]"===Object.prototype.toString.call(t)}var m,y="clientX",g="clientY",_=16,b="start",x="move",T="cancel",E="end",w="left",k="right",L="up",P="down",M=(m={},m[4]=b,m[5]=x,m[1]=E,m[3]=T,m);function A(t){return M[t]}function S(t,e,n){var r,a,o,i,c,s,u,p={1:(r={},r[0]=(a={},a[x]=4,a),r[4]=(o={},o[x]=5,o[E]=1,o[T]=3,o),r[5]=(i={},i[x]=5,i[E]=1,i[T]=3,i),r),0:(c={},c[4]=(s={},s[x]=2,s[E]=1,s[T]=3,s),c[5]=(u={},u[b]=2,u[x]=2,u[E]=1,u[T]=3,u),c)},l=p[Number(t)][e];return void 0!==l&&l[n]||0}function O(t){[1,3,2].includes(t.state)&&(t.state=0)}function X(t){return[5,1,3].includes(t)}function I(t){if(t.disabled)return t.state=0,!0}function C(t,e){return n(n(n({},t),e),{state:0,disabled:!1})}function Y(t){return Math.round(100*t)/100}function j(){var t,e,r,a,o=0;return function(i){if(t=e,void 0!==i){o=Number.MAX_SAFE_INTEGER>o?++o:1;var c=N(i,o);e=c;var s=c.isStart,u=c.pointLength;return s&&(r=c,t=void 0,a=1<u?c:void 0),n(n({},c),{prevInput:t,startMultiInput:a,startInput:r})}}}function D(t){var e=t.length;if(0<e){if(1===e){var n=t[0],r=n.clientX,a=n.clientY;return{x:Math.round(r),y:Math.round(a)}}var o=t.reduce((function(t,e){return t.x+=e[y],t.y+=e[g],t}),{x:0,y:0});return{x:Math.round(o.x/e),y:Math.round(o.y/e)}}}function N(t,e){var n=t.phase,r=t.points,a=t.changedPoints,o=t.nativeEvent,i=r.length,c=b===n,s=E===n&&0===i||T===n,u=Date.now(),p=D(r)||D(a),l=p.x,f=p.y,d=o.currentTarget;return Object.assign(t,{id:e,x:l,y:f,timestamp:u,isStart:c,isEnd:s,pointLength:i,currentTarget:d,getOffset:function(t){void 0===t&&(t=d);var e=t.getBoundingClientRect();return{x:l-Math.round(e.left),y:f-Math.round(e.top)}}})}function F(){var t,e=!1,n=null,r=j();return function(a){var o,i=a.clientX,c=a.clientY,s=a.type,v=a.button,m=a.target,y=[{clientX:i,clientY:c,target:m}];if(l===s&&0===v)n=m,e=!0,o=f;else{if(!e)return;p===s?o=d:u===s&&(y=[],o=h,e=!1)}var g=t||[{clientX:i,clientY:c,target:m}];if(t=[{clientX:i,clientY:c,target:m}],void 0!==o)return r({phase:o,changedPoints:g,points:y,target:n,targets:[n],nativeEvent:a})}}function V(t){var e=j();return function(n){var r=[],a=[];Array.from(n.touches).forEach((function(e){var n=e.clientX,o=e.clientY,i=e.target;(null===t||void 0===t?void 0:t.contains(i))&&(r.push(i),a.push({clientX:n,clientY:o,target:i}))}));var o=Array.from(n.changedTouches).map((function(t){var e=t.clientX,n=t.clientY,r=t.target;return{clientX:e,clientY:n,target:r}}));return e({phase:n.type.replace("touch",""),changedPoints:o,points:a,nativeEvent:n,target:n.target,targets:r})}}function z(t,e,n,r){var a,o={};for(var i in n)["target","currentTarget","type"].includes(i)||(o[i]=n[i]);return document.createEvent?(a=document.createEvent("HTMLEvents"),a.initEvent(t,null===r||void 0===r?void 0:r.bubbles,null===r||void 0===r?void 0:r.cancelable)):a=new Event(t,r),Object.assign(a,o,{match:function(){return n.targets&&0<n.targets.length&&n.targets.every((function(t){return a.currentTarget.contains(t)}))}}),e.dispatchEvent(a)}function R(t,e){var n=e.preventDefault;return v(n)?n(t):!!n}var B=[o,i,c,s,l],$=[p,u];function U(t,e,n){return B.forEach((function(r){t.addEventListener(r,e,n)})),$.forEach((function(t){window.addEventListener(t,e,n)})),function(){B.forEach((function(n){t.removeEventListener(n,e)})),$.forEach((function(t){window.removeEventListener(t,e)}))}}var q="computed",H={domEvents:{bubbles:!0,cancelable:!0},preventDefault:function(t){if(t.target&&"tagName"in t.target){var e=t.target.tagName;return!/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/.test(e)}return!1}},G="u",J="input",K="at:after",Z=function(t){function a(e,r){var a,f=t.call(this)||this;f.v="2.1.1",f.__computeFunctionList=[],f.__computeFunctionCreatorList=[],f.__pluginContexts=[],f.el=e,f.c={},f.__options=n(n({},H),r);var d=V(f.el),h=F();if(f.__inputCreatorMap=(a={},a[o]=d,a[i]=d,a[c]=d,a[s]=d,a[l]=h,a[p]=h,a[u]=h,a),f.on(K,(function(t){var e=t.target,n=t.__type,r=f.__options.domEvents;r&&void 0!==f.el&&e&&(z(n,e,t,r),z(K,e,t,r))})),void 0!==e){e.style.webkitTapHighlightColor="rgba(0,0,0,0)";var v=!1;try{var m={};Object.defineProperty(m,"passive",{get:function(){v=!0}}),window.addEventListener("_",(function(){}),m)}catch(y){}f.on(G,U(e,f.catchEvent.bind(f),!1===f.__options.preventDefault&&v?{passive:!0}:{passive:!1}))}return f}return e(a,t),a.prototype.use=function(t,e){this.__pluginContexts.push(t(this,e))},a.prototype.catchEvent=function(t){var e=this.__inputCreatorMap[t.type](t);if(void 0!==e){var r=function(){return t.stopPropagation()},a=function(){return t.stopImmediatePropagation()},o=function(){return t.preventDefault()};R(t,this.__options)&&o(),this.emit(J,e),this.emit2("at:".concat(e.phase),e,{});var i={};this.__computeFunctionList.forEach((function(t){var n=t(e,i);if(void 0!==n)for(var r in n)i[r]=n[r]})),this.emit(q,n(n(n({},e),i),{stopPropagation:r,stopImmediatePropagation:a,preventDefault:o}))}},a.prototype.compute=function(t,e){var n,a;try{for(var o=r(t),i=o.next();!i.done;i=o.next()){var c=i.value;this.__computeFunctionCreatorList.includes(c)||(this.__computeFunctionCreatorList.push(c),this.__computeFunctionList.push(c()))}}catch(s){n={error:s}}finally{try{i&&!i.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}this.on(q,e)},a.prototype.beforeEach=function(e){var n=this;t.prototype.beforeEach.call(this,(function(t,r){var a;(null===(a=n.c)||void 0===a?void 0:a.name)?e(t,r):r()}))},a.prototype.get=function(t){return this.__pluginContexts.find((function(e){return t===e.name}))},a.prototype.set=function(t){this.__options=n(n({},this.__options),t)},a.prototype.emit2=function(t,e,r){var a=this;this.c=r,this.emit(t,n(n({},e),{type:t}),(function(){a.emit(K,n(n({},e),{name:t,__type:t}))}))},a.prototype.destroy=function(){this.emit(G),t.prototype.destroy.call(this)},a}(a),Q=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},W=function(t,e){return t.x*e.x+t.y*e.y},tt=function(t,e){var n=Q(t)*Q(e);if(0===n)return 0;var r=W(t,e)/n;return r>1&&(r=1),Math.acos(r)},et=function(t,e){return t.x*e.y-e.x*t.y},nt=function(t){return t/Math.PI*180},rt=function(t,e){var n=tt(t,e);return et(t,e)>0&&(n*=-1),nt(n)},at=function(t,e){if(0!==t||0!==e)return Math.abs(t)>=Math.abs(e)?0<t?k:w:0<e?P:L};function ot(){var t=0,e=0;return function(n,r){var a=r.prevVecotr,o=r.startVecotr,i=r.activeVecotr;return i&&(e=Math.round(rt(i,a)),t=Math.round(rt(i,o))),{angle:t,deltaAngle:e}}}function it(){return function(t){var e=t.prevInput,n=0,r=0,a=0;if(void 0!==e&&(n=t.x-e.x,r=t.y-e.y,0!==n||0!==r)){var o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));a=Math.round(nt(Math.acos(Math.abs(n)/o)))}return{deltaX:n,deltaY:r,deltaXYAngle:a}}}function ct(){var t,e=0,n=0,r=0,a=0,o=0;return function(i){var c=i.phase,s=i.startInput;return b===c?(e=0,n=0,r=0,a=0,o=0):x===c&&(e=Math.round(i.points[0][y]-s.points[0][y]),n=Math.round(i.points[0][g]-s.points[0][g]),r=Math.abs(e),a=Math.abs(n),o=Math.round(Q({x:r,y:a})),t=at(e,n)),{displacementX:e,displacementY:n,distanceX:r,distanceY:a,distance:o,overallDirection:t}}}function st(){var t=1;return function(e,n){var r=1,a=n.prevVecotr,o=n.startVecotr,i=n.activeVecotr;return i&&(r=Y(Q(i)/Q(a)),t=Y(Q(i)/Q(o))),{scale:t,deltaScale:r}}}function ut(){var t,e,n=0,r=0,a=0,o=0;return function(i){if(void 0!==i){e=e||i.startInput;var c=i.timestamp-e.timestamp;if(_<c){var s=i.x-e.x,u=i.y-e.y;a=Math.round(s/c*100)/100,o=Math.round(u/c*100)/100,n=Math.abs(a),r=Math.abs(o),t=at(s,u),e=i}}return{velocityX:n,velocityY:r,speedX:a,speedY:o,direction:t}}}function pt(){var t=0;return function(e){var n=e.phase;return b===n&&(t=e.pointLength),{maxPointLength:t}}}function lt(t){return{x:t.points[1][y]-t.points[0][y],y:t.points[1][g]-t.points[0][g]}}function ft(){var t,e,n;return function(r){var a=r.prevInput,o=r.startMultiInput;return void 0!==o&&void 0!==a&&r.id!==o.id&&1<a.pointLength&&1<r.pointLength?(t=lt(o),e=lt(a),n=lt(r)):n=void 0,{startVecotr:t,prevVecotr:e,activeVecotr:n}}}var dt={name:"tap",pointLength:1,tapTimes:1,waitNextTapTime:300,maxDistance:2,maxDistanceFromPrevTap:9,maxPressTime:250};function ht(t,e){var n,r,a,o=C(dt,e),i=0;function c(){i=0,n=void 0,r=void 0}function s(){a=setTimeout((function(){o.state=2,c()}),o.waitNextTapTime)}function u(t,e){if(void 0!==n){var r=Q({x:t.x-n.x,y:t.y-n.y});return n=t,e.maxDistanceFromPrevTap>=r}return n=t,!0}function p(t){var e=performance.now();if(void 0===r)return r=e,!0;var n=e-r;return r=e,n<t}return t.compute([ct,pt],(function(e){if(!I(o)){var n=e.phase,r=e.x,l=e.y;E===n&&(o.state=0,f()?(clearTimeout(a),u({x:r,y:l},o)&&p(o.waitNextTapTime)?i++:i=1,0===i%o.tapTimes?(o.state=1,t.emit2(o.name,e,o),c()):s()):(c(),o.state=2))}function f(){var t=e.startInput,n=e.pointLength,r=e.timestamp,a=r-t.timestamp,i=e.distance,c=e.maxPointLength;return c===o.pointLength&&0===n&&o.maxDistance>=i&&o.maxPressTime>a}})),o}var vt={name:"pan",threshold:10,pointLength:1};function mt(t,e){var n=C(vt,e);return t.compute([ut,ct,it],(function(e){if(O(n),!I(n)){var r=o();if(n.state=S(r,n.state,e.phase),r||X(n.state)){var a=n.name;t.emit2(a,e,n),t.emit2(a+A(n.state),e,n),![E,T].includes(e.phase)&&e.direction&&t.emit2(a+e.direction,e,n)}}function o(){var t=e.pointLength,r=e.distance;return n.pointLength===t&&n.threshold<=r}})),n}var yt={name:"swipe",threshold:10,velocity:.3,pointLength:1};function gt(t,e){var n=C(yt,e);return t.compute([ct,ut,pt],(function(e){if(n.state=0,!n.disabled&&a()){var r=n.name;n.state=1,t.emit2(r,e,n),t.emit2(r+e.direction,e,n)}function a(){if(E!==e.phase)return!1;var t=e.velocityX,r=e.velocityY,a=e.distance,o=e.maxPointLength;return o===n.pointLength&&0===e.points.length&&n.threshold<a&&n.velocity<Math.max(t,r)}})),n}var _t={name:"press",pointLength:1,maxDistance:9,minPressTime:251};function bt(t,e){var n=C(_t,e),r=0;return t.compute([ct],(function(e){if(!I(n)){var a=e.phase,o=e.startInput,i=e.pointLength;if(b===a&&n.pointLength===i)O(n),clearTimeout(r),r=setTimeout((function(){n.state=1,t.emit2(n.name,e,n)}),n.minPressTime);else if(E===a&&1===n.state)t.emit2("".concat(n.name).concat(L),e,n);else if(1!==n.state){var c=e.timestamp-o.timestamp;(!s()||n.minPressTime>c&&[E,T].includes(a))&&(clearTimeout(r),n.state=2)}}function s(){var t=e.distance;return t&&n.maxDistance>t}})),n}var xt={name:"pinch",threshold:0,pointLength:2};function Tt(t,e){var n=C(xt,e);return t.compute([ft,st],(function(e){if(O(n),!I(n)){var r=c();n.state=S(r,n.state,e.phase);var a=n.name;if(r||X(n.state)){t.emit2(a,e,n);var o=e.deltaScale;1!==o&&t.emit2(a+(1<o?"in":"out"),e,n)}var i=A(n.state);i&&t.emit2(a+i,e,n)}function c(){var t=e.pointLength,r=e.scale;return e.deltaScale,e.phase,n.pointLength===t&&n.threshold<Math.abs(r-1)}})),n}var Et={name:"rotate",threshold:0,pointLength:2};function wt(t,e){var n=C(Et,e);return t.compute([ft,ot],(function(e){if(!I(n)){O(n);var r=i();n.state=S(r,n.state,e.phase);var a=n.name;(r||X(n.state))&&t.emit2(a,e,n);var o=A(n.state);o&&t.emit2(a+o,e,n)}function i(){var t=e.pointLength,r=e.angle;return n.pointLength===t&&n.threshold<Math.abs(r)}})),n}function kt(t){t.use(ht,{name:"doubletap",tapTimes:2});var e,n=t.get("doubletap");return t.beforeEach((function(t,r){"tap"===t?(clearTimeout(e),e=setTimeout((function(){[0,2].includes(n.state)&&r()}),300)):r()})),n}var Lt=function(t){function n(e,n){var r=t.call(this,e,n)||this;return r.use(ht),r.use(mt),r.use(gt),r.use(bt),r.use(Tt),r.use(wt),r}return e(n,t),n.STATE_POSSIBLE=0,n.STATE_START=4,n.STATE_MOVE=5,n.STATE_END=1,n.STATE_CANCELLED=3,n.STATE_FAILED=2,n.STATE_RECOGNIZED=1,n.tap=ht,n.pan=mt,n.swipe=gt,n.press=bt,n.rotate=wt,n.pinch=Tt,n.doubletap=kt,n}(Z);return Lt}))}});
//# sourceMappingURL=app.85744f14.js.map